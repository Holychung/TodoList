{"ast":null,"code":"var _jsxFileName = \"/Users/holy/holy/my-app/src/App.js\";\nimport React from 'react';\nimport axios from 'axios'; // import Input from '@material-ui/core/Input';\n\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todo_list: [],\n      name: \"\",\n      description: \"default\",\n      due: \"\",\n      createdAt: \"2019-05-15 18:36:41\",\n      updatedAt: \"2019-05-15 18:36:41\",\n      color: \"\"\n    };\n    this.createTodo = this.createTodo.bind(this);\n    this.getTodo = this.fetchTodo.bind(this);\n    this.deleteTodo = this.deleteTodo.bind(this);\n    this.handleChangeName = this.handleChangeName.bind(this);\n    this.handleChangeColor = this.handleChangeColor.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost/api/Todo/read.php').then(({\n      data: todo\n    }) => this.fetchTodo(todo)).catch(error => console.log(error));\n  }\n\n  fetchTodo(t) {\n    this.setState({\n      todo_list: t\n    });\n  }\n\n  createTodo() {\n    let state = this.state;\n    let new_todo = {};\n    new_todo['name'] = state.name;\n    new_todo['description'] = state.description;\n    new_todo['due'] = state.due;\n    new_todo['createdAt'] = state.createdAt;\n    new_todo['updatedAt'] = state.updatedAt;\n    new_todo['color'] = state.color;\n    axios.post('http://localhost/api/Todo/create.php', new_todo).then(response => console.log(response)).catch(error => console.log(error)); // update state to force re-render\n\n    new_todo['id'] = state.todo_list.length + 1; // for deep copy new_todo\n\n    let obj = JSON.parse(JSON.stringify(new_todo));\n    this.setState({\n      todo_list: this.state.todo_list.concat(obj)\n    });\n  }\n\n  deleteTodo(id) {\n    axios.post('http://localhost/api/Todo/delete.php', id).then(response => console.log(response)).catch(error => console.log(error));\n    this.setState({\n      todo_list: this.state.todo_list.filter(todo => todo.id !== id)\n    });\n  }\n\n  handleChangeName(new_name) {\n    this.setState({\n      name: new_name\n    });\n  }\n\n  handleChangeDue(new_due) {\n    this.setState({\n      due: new_due\n    });\n  }\n\n  handleChangeColor(new_color) {\n    this.setState({\n      color: new_color\n    });\n  }\n\n  render() {\n    let todo_list = this.state.todo_list;\n    console.log(this.state.todo_list);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"PHP hello\", React.createElement(\"form\", {\n      className: \"container\",\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"standard-name\",\n      label: \"Name\",\n      className: \"input-name\",\n      value: this.state.name,\n      onChange: e => this.handleChangeName(e.target.value),\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"datetime-local\",\n      label: \"Next appointment\",\n      type: \"datetime-local\" // defaultValue=\"2017-05-24T10:30\"\n      ,\n      className: \"timeee\",\n      InputLabelProps: {\n        shrink: true\n      },\n      value: this.state.due,\n      onChange: e => this.handleChangeDue(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      className: \"formcontrol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"age-native-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Age\"), React.createElement(Select, {\n      native: true,\n      value: this.state.age,\n      onChange: e => this.handleChangeColor(e.target.calue),\n      inputProps: {\n        name: 'age',\n        id: 'age-native-simple'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Ten\"), React.createElement(\"option\", {\n      value: 20,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Twenty\"), React.createElement(\"option\", {\n      value: 30,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Thirty\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), todo_list && todo_list.map(todo => React.createElement(\"div\", {\n      key: todo.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \" \", todo.id, \": \", todo.name, \" \"), React.createElement(\"button\", {\n      onClick: () => this.deleteTodo(todo.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"delete one\"))), React.createElement(\"button\", {\n      onClick: () => this.createTodo(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"add one\"));\n  }\n\n}\n\nconst tmp_data = {\n  \"name\": \"Yee\",\n  \"description\": \"Yee\",\n  \"due\": \"2019-05-15 18:36:41\",\n  \"createdAt\": \"2019-05-15 18:36:41\",\n  \"updatedAt\": \"2019-05-15 18:36:41\",\n  \"color\": \"EDEDED\"\n};\nexport default App;","map":{"version":3,"sources":["/Users/holy/holy/my-app/src/App.js"],"names":["React","axios","TextField","InputLabel","FormControl","Select","App","Component","constructor","props","state","todo_list","name","description","due","createdAt","updatedAt","color","createTodo","bind","getTodo","fetchTodo","deleteTodo","handleChangeName","handleChangeColor","componentDidMount","get","then","data","todo","catch","error","console","log","t","setState","new_todo","post","response","length","obj","JSON","parse","stringify","concat","id","filter","new_name","handleChangeDue","new_due","new_color","render","e","target","value","shrink","age","calue","map","tmp_data"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios'\n\n// import Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nimport './App.css'\n\nclass App extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      todo_list: [],\n      name: \"\",\n      description: \"default\",\n      due: \"\",\n      createdAt: \"2019-05-15 18:36:41\",\n      updatedAt: \"2019-05-15 18:36:41\",\n      color: \"\"\n    }\n    this.createTodo = this.createTodo.bind(this)\n    this.getTodo = this.fetchTodo.bind(this)\n    this.deleteTodo = this.deleteTodo.bind(this)\n    this.handleChangeName = this.handleChangeName.bind(this)\n    this.handleChangeColor = this.handleChangeColor.bind(this)\n  }\n\n  componentDidMount(){\n    axios.get('http://localhost/api/Todo/read.php')\n    .then(({data: todo}) => this.fetchTodo(todo))\n    .catch(error => console.log(error))\n  }\n  fetchTodo(t){\n    this.setState({ todo_list: t })\n  }\n  createTodo() {\n    let state = this.state\n    let new_todo = {}\n    new_todo['name'] = state.name\n    new_todo['description'] = state.description\n    new_todo['due'] = state.due\n    new_todo['createdAt'] = state.createdAt\n    new_todo['updatedAt'] = state.updatedAt\n    new_todo['color'] = state.color\n    \n    axios.post('http://localhost/api/Todo/create.php', new_todo)\n    .then(response=>console.log(response))\n    .catch(error => console.log(error))\n    \n    // update state to force re-render\n    new_todo['id'] = state.todo_list.length + 1\n    // for deep copy new_todo\n    let obj = JSON.parse(JSON.stringify(new_todo))\n    this.setState({\n        todo_list: this.state.todo_list.concat(obj)\n    })\n  }\n  deleteTodo(id){\n    axios.post('http://localhost/api/Todo/delete.php', id)\n    .then(response=>console.log(response))\n    .catch(error => console.log(error))\n\n    this.setState({\n      todo_list: this.state.todo_list.filter(todo => todo.id !== id)\n    })\n  }\n  handleChangeName(new_name){\n    this.setState({\n      name: new_name\n    })\n  }\n  handleChangeDue(new_due){\n    this.setState({\n      due: new_due\n    })\n  }\n  handleChangeColor(new_color){\n    this.setState({\n      color: new_color\n    })\n  }\n\n  render() {\n    let todo_list = this.state.todo_list\n    console.log(this.state.todo_list)\n\n    return (\n      <div>\n        PHP hello\n        <form className=\"container\" noValidate autoComplete=\"off\">  \n          <TextField\n            id=\"standard-name\"\n            label=\"Name\"\n            className=\"input-name\"\n            value={this.state.name}\n            onChange={(e) => this.handleChangeName(e.target.value)}\n            margin=\"normal\"\n          />\n\n          <TextField\n            id=\"datetime-local\"\n            label=\"Next appointment\"\n            type=\"datetime-local\"\n            // defaultValue=\"2017-05-24T10:30\"\n            className=\"timeee\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            value={this.state.due}\n            onChange={(e) => this.handleChangeDue(e.target.value)}\n          />\n\n        </form>\n\n        <FormControl className=\"formcontrol\">\n          <InputLabel htmlFor=\"age-native-simple\">Age</InputLabel>\n          <Select\n            native\n            value={this.state.age}\n            onChange={(e) => this.handleChangeColor(e.target.calue)}\n            inputProps={{\n              name: 'age',\n              id: 'age-native-simple',\n            }}\n          >\n            <option value=\"\" />\n            <option value={10}>Ten</option>\n            <option value={20}>Twenty</option>\n            <option value={30}>Thirty</option>\n          </Select>\n        </FormControl>\n\n\n        <br/>\n\n        {\n          todo_list &&  \n          todo_list.map(\n            (todo) => \n              <div key={todo.id}>\n                <div> {todo.id}: {todo.name} </div>\n                <button onClick={ () => this.deleteTodo(todo.id) }>delete one</button>\n              </div>\n          )\n        }\n        <button onClick={ () => this.createTodo() }>add one</button>\n      </div>\n    )\n  }\n}\n\nconst tmp_data = {\n  \"name\": \"Yee\",\n  \"description\" : \"Yee\",\n  \"due\": \"2019-05-15 18:36:41\",\n  \"createdAt\": \"2019-05-15 18:36:41\",\n  \"updatedAt\": \"2019-05-15 18:36:41\",\n  \"color\": \"EDEDED\"\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}